<div class="supplier-management-container">
  <!-- Title Section (VB6 Label1) -->
  <mat-card class="title-card">
    <mat-card-header>
      <mat-card-title class="main-title">SUPPLIER MANAGEMENT</mat-card-title>
    </mat-card-header>
  </mat-card>

  <div class="content-layout">
    <!-- Input Section -->
    <mat-card class="input-section">
      <mat-card-header>
        <mat-card-title>Supplier Information</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form [formGroup]="supplierForm" class="supplier-form">
          <!-- VB6 Text1 - Supplier Name -->
          <mat-form-field appearance="outline">
            <mat-label>Supplier Name:</mat-label>
            <input matInput formControlName="sname" placeholder="Enter supplier name">
            <mat-error *ngIf="supplierForm.get('sname')?.hasError('required')">
              Supplier name is required
            </mat-error>
          </mat-form-field>

          <!-- VB6 Text2 - Location -->
          <mat-form-field appearance="outline">
            <mat-label>Location:</mat-label>
            <input matInput formControlName="splace" placeholder="Enter location">
            <mat-error *ngIf="supplierForm.get('splace')?.hasError('required')">
              Location is required
            </mat-error>
          </mat-form-field>

          <!-- VB6 Text3 - Mobile Number -->
          <mat-form-field appearance="outline">
            <mat-label>Mobile No:</mat-label>
            <input matInput formControlName="smobno" placeholder="Enter mobile number">
            <mat-error *ngIf="supplierForm.get('smobno')?.hasError('required')">
              Mobile number is required
            </mat-error>
          </mat-form-field>

          <!-- VB6 Text4 - Email ID -->
          <mat-form-field appearance="outline">
            <mat-label>Email ID:</mat-label>
            <input matInput type="email" formControlName="smailid" placeholder="Enter email address">
            <mat-error *ngIf="supplierForm.get('smailid')?.hasError('required')">
              Email is required
            </mat-error>
            <mat-error *ngIf="supplierForm.get('smailid')?.hasError('email')">
              Please enter a valid email address
            </mat-error>
          </mat-form-field>
        </form>
      </mat-card-content>
    </mat-card>

    <!-- Action Buttons Section -->
    <div class="action-buttons">
      <!-- VB6 Command2 - Add -->
      <button mat-raised-button color="primary" (click)="onAddSupplier()" [disabled]="isLoading()">
        <mat-icon>add</mat-icon>
        Add
      </button>

      <!-- VB6 Command4 - Edit -->
      <button mat-raised-button color="accent" (click)="onEditSupplier()" [disabled]="isLoading() || !selectedSupplier()">
        <mat-icon>edit</mat-icon>
        Edit
      </button>

      <!-- VB6 Command5 - Reset -->
      <button mat-raised-button (click)="onResetForm()" [disabled]="isLoading()">
        <mat-icon>refresh</mat-icon>
        Reset
      </button>
    </div>

    <!-- Data Grid Section (VB6 DataGrid1) -->
    <mat-card class="data-grid-section">
      <mat-card-header>
        <mat-card-title>Suppliers List</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="table-container">
          <table mat-table [dataSource]="suppliers()" class="suppliers-table">
            <!-- ID Column -->
            <ng-container matColumnDef="sid">
              <th mat-header-cell *matHeaderCellDef>ID</th>
              <td mat-cell *matCellDef="let supplier">{{supplier.sid}}</td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="sname">
              <th mat-header-cell *matHeaderCellDef>Supplier Name</th>
              <td mat-cell *matCellDef="let supplier">{{supplier.sname}}</td>
            </ng-container>

            <!-- Location Column -->
            <ng-container matColumnDef="splace">
              <th mat-header-cell *matHeaderCellDef>Location</th>
              <td mat-cell *matCellDef="let supplier">{{supplier.splace}}</td>
            </ng-container>

            <!-- Mobile Column -->
            <ng-container matColumnDef="smobno">
              <th mat-header-cell *matHeaderCellDef>Mobile No</th>
              <td mat-cell *matCellDef="let supplier">{{supplier.smobno}}</td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="smailid">
              <th mat-header-cell *matHeaderCellDef>Email ID</th>
              <td mat-cell *matCellDef="let supplier">{{supplier.smailid}}</td>
            </ng-container>

            <!-- Actions Column -->
            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef>Actions</th>
              <td mat-cell *matCellDef="let supplier">
                <button mat-icon-button (click)="onSelectSupplier(supplier)" 
                        [class.selected]="selectedSupplier()?.sid === supplier.sid"
                        matTooltip="Select supplier">
                  <mat-icon>radio_button_checked</mat-icon>
                </button>
                <!-- VB6 Command3 - Delete -->
                <button mat-icon-button color="warn" (click)="onDeleteSupplier(supplier)" 
                        [disabled]="isLoading()" matTooltip="Delete supplier">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
                (click)="onSelectSupplier(row)"
                [class.selected-row]="selectedSupplier()?.sid === row.sid"></tr>
          </table>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Search Section (VB6 Combo1) -->
    <mat-card class="search-section">
      <mat-card-header>
        <mat-card-title>Search</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Search by Name:</mat-label>
          <mat-select [value]="searchControl()" (selectionChange)="onSearchSelectionChange($event.value)">
            <mat-option value="">All Suppliers</mat-option>
            <mat-option *ngFor="let name of searchOptions()" [value]="name">
              {{name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-card-content>
    </mat-card>
  </div>
</div>